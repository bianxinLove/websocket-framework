# WebSocketæ¡†æ¶æ¶æ„ä¼˜åŒ–åˆ†ææŠ¥å‘Š

## ç›®å½•
- [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
- [æ¶æ„ä¼˜åŠ¿åˆ†æ](#æ¶æ„ä¼˜åŠ¿åˆ†æ)
- [æ ¸å¿ƒç»„ä»¶è¯„ä¼°](#æ ¸å¿ƒç»„ä»¶è¯„ä¼°)
- [ä¼˜åŒ–å»ºè®®](#ä¼˜åŒ–å»ºè®®)
- [å®‰å…¨æ€§æ”¹è¿›](#å®‰å…¨æ€§æ”¹è¿›)
- [æ€§èƒ½ä¼˜åŒ–](#æ€§èƒ½ä¼˜åŒ–)
- [å¯è§‚æµ‹æ€§å¢å¼º](#å¯è§‚æµ‹æ€§å¢å¼º)
- [å®æ–½å»ºè®®](#å®æ–½å»ºè®®)

---

## é¡¹ç›®æ¦‚è¿°

æœ¬WebSocketæ¡†æ¶æ˜¯åŸºäºSpring Boot 2.7.0å’ŒJava 8æ„å»ºçš„ä¼ä¸šçº§WebSocketè§£å†³æ–¹æ¡ˆï¼Œæä¾›äº†å®Œæ•´çš„è¿æ¥ç®¡ç†ã€äº‹ä»¶å¤„ç†ã€ä¼šè¯ç®¡ç†å’Œå¿ƒè·³æ£€æµ‹åŠŸèƒ½ã€‚

### æŠ€æœ¯æ ˆ
- **åŸºç¡€æ¡†æ¶**: Spring Boot 2.7.0
- **WebSocket**: Java WebSocket API + Spring WebSocket
- **äº‹ä»¶æ€»çº¿**: Google Guava EventBus
- **ç¼“å­˜**: Redis + Spring Data Redis
- **å·¥å…·åº“**: Hutool, Lombok
- **ç›‘æ§**: è‡ªå®šä¹‰çº¿ç¨‹æ± ç›‘æ§ + JVMå†…ç½®å·¥å…·

---

## æ¶æ„ä¼˜åŠ¿åˆ†æ

### 1. è®¾è®¡æ¨¡å¼ä¼˜ç§€ âœ…

#### äº‹ä»¶é©±åŠ¨æ¶æ„
- ä½¿ç”¨Google Guava EventBuså®ç°å¼‚æ­¥äº‹ä»¶åˆ†å‘
- å®Œæ•´çš„äº‹ä»¶ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ˆON_OPEN, ON_MESSAGE, ON_CLOSE, ON_ERROR, ON_HEARTBEAT, ON_SENDï¼‰
- æ”¯æŒäº‹ä»¶æ‹¦æˆªå™¨é“¾ï¼Œä¾¿äºæ¨ªåˆ‡å…³æ³¨ç‚¹å¤„ç†

#### å¤šå±‚çº§ä¼šè¯ç®¡ç†
- ä¸‰å±‚æ˜ å°„ç»“æ„ï¼š`service -> userId -> WebSocketSession`
- è‡ªå®šä¹‰`ConcurrentBiMap`å®ç°çº¿ç¨‹å®‰å…¨çš„åŒå±‚æ˜ å°„
- æ”¯æŒåˆ†å¸ƒå¼éƒ¨ç½²çš„Redisä¼šè¯æŒä¹…åŒ–

#### é™æ€ä¾èµ–æ³¨å…¥
- å·§å¦™è§£å†³WebSocketç«¯ç‚¹å®ä¾‹åŒ–é—®é¢˜
- é€šè¿‡é™æ€setteræ–¹æ³•æ³¨å…¥Springç®¡ç†çš„Bean
- ä¿è¯äº†WebSocketç«¯ç‚¹çš„æ­£å¸¸å·¥ä½œ

### 2. å¹¶å‘å®‰å…¨è®¾è®¡ âœ…

#### çº¿ç¨‹å®‰å…¨ä¿éšœ
- `ConcurrentBiMap`é‡‡ç”¨ConcurrentHashMap + åŒé‡æ£€æŸ¥é”å®š
- åŸå­æ“ä½œè®¡æ•°å™¨ï¼ˆAtomicLong, AtomicBooleanï¼‰
- å†…å­˜æ¸…ç†æœºåˆ¶é˜²æ­¢å†…å­˜æ³„æ¼

#### æ™ºèƒ½ä»»åŠ¡ç®¡ç†
- `TimeoutTaskWrapper`æä¾›ä»»åŠ¡è¶…æ—¶ä¿æŠ¤
- å¯ä¸­æ–­ä»»åŠ¡åŒ…è£…å™¨æ”¯æŒä¼˜é›…ä¸­æ–­
- æ™ºèƒ½ä»»åŠ¡æäº¤é¿å…é˜Ÿåˆ—è¿‡è½½

### 3. ç›‘æ§ä½“ç³»å®Œå¤‡ âœ…

#### è‡ªé€‚åº”ç›‘æ§
- åŠ¨æ€è°ƒæ•´ç›‘æ§é¢‘ç‡based onç³»ç»Ÿå¥åº·çŠ¶æ€
- å¤šç»´åº¦å¥åº·è¯„ä¼°ï¼ˆçº¿ç¨‹æ± åˆ©ç”¨ç‡ã€é˜Ÿåˆ—åˆ©ç”¨ç‡ã€ä»»åŠ¡ç§¯å‹ï¼‰
- é‡‡æ ·æœºåˆ¶å‡å°‘ç›‘æ§å¼€é”€

#### å†…å­˜å‹åŠ›ç›‘æ§
- å¤šçº§å†…å­˜é˜ˆå€¼ï¼ˆé¢„è­¦75%ã€ä¸¥é‡90%ã€æ¢å¤60%ï¼‰
- æ¿€è¿›æ¸…ç†ç­–ç•¥underä¸¥é‡å†…å­˜å‹åŠ›
- JVMå†…ç½®å·¥å…·é«˜æ•ˆè·å–å†…å­˜æŒ‡æ ‡

---

## æ ¸å¿ƒç»„ä»¶è¯„ä¼°

### WebSocketServer (æ ¸å¿ƒç«¯ç‚¹)
**ä½ç½®**: `src/main/java/com/framework/websocket/core/WebSocketServer.java`

**ä¼˜åŠ¿**:
- å®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸäº‹ä»¶å¤„ç†
- å¿ƒè·³æ£€æµ‹æœºåˆ¶withè¶…æ—¶ä¿æŠ¤
- å¼‚å¸¸å¤„ç†å®Œå–„

**éœ€ä¼˜åŒ–**:
- é™æ€æ–¹æ³•`sendMessageToUser`å’Œ`broadcastMessage`å¯è€ƒè™‘ç¼“å­˜sessionManagerå®ä¾‹
- å¿ƒè·³æ£€æµ‹é€»è¾‘å¯ä»¥æ›´åŠ æ™ºèƒ½åŒ–

### WebSocketSessionManager (ä¼šè¯ç®¡ç†)
**ä½ç½®**: `src/main/java/com/framework/websocket/session/WebSocketSessionManager.java`

**ä¼˜åŠ¿**:
- è‡ªå®šä¹‰ConcurrentBiMapçº¿ç¨‹å®‰å…¨
- Redisæ‰¹é‡æ“ä½œä¼˜åŒ–ç½‘ç»œå¼€é”€
- è‡ªåŠ¨æ¸…ç†æœºåˆ¶é˜²æ­¢å†…å­˜æ³„æ¼

**éœ€ä¼˜åŒ–**:
- æ‰¹é‡å¿ƒè·³æ›´æ–°å¯ä»¥è¿›ä¸€æ­¥ä¼˜åŒ–
- ä¼šè¯æ¸…ç†ç­–ç•¥å¯ä»¥æ›´åŠ ç²¾ç»†åŒ–

### WebSocketEventBus (äº‹ä»¶æ€»çº¿)
**ä½ç½®**: `src/main/java/com/framework/websocket/event/WebSocketEventBus.java`

**ä¼˜åŠ¿**:
- å¼‚æ­¥äº‹ä»¶å¤„ç†é¿å…é˜»å¡
- è‡ªå®šä¹‰å¼‚å¸¸å¤„ç†å™¨
- çº¿ç¨‹æ± ç®¡ç†å®Œå–„

**éœ€ä¼˜åŒ–**:
- å¯ä»¥å¢åŠ äº‹ä»¶ä¼˜å…ˆçº§å¤„ç†
- æ”¯æŒäº‹ä»¶è¿‡æ»¤å’Œè·¯ç”±

### ThreadPoolMonitor (çº¿ç¨‹æ± ç›‘æ§)
**ä½ç½®**: `src/main/java/com/framework/websocket/monitor/ThreadPoolMonitor.java`

**ä¼˜åŠ¿**:
- è‡ªé€‚åº”ç›‘æ§é¢‘ç‡è°ƒæ•´
- å¤šç»´åº¦å¥åº·çŠ¶æ€è¯„ä¼°
- JVMå†…ç½®å·¥å…·é«˜æ•ˆç›‘æ§

**éœ€ä¼˜åŒ–**:
- CPUä½¿ç”¨ç‡è·å–çš„å…¼å®¹æ€§å¤„ç†å¯ä»¥ç®€åŒ–
- ç›‘æ§æŒ‡æ ‡å¯ä»¥æ›´ä¸°å¯Œ

---

## ä¼˜åŒ–å»ºè®®

### 1. ä¾èµ–ç‰ˆæœ¬å‡çº§ ğŸ”§

#### Mavenä¾èµ–ä¼˜åŒ–
```xml
<properties>
    <!-- å‡çº§åˆ°å®‰å…¨è¡¥ä¸ç‰ˆæœ¬ -->
    <spring-boot.version>2.7.18</spring-boot.version>
    <guava.version>32.1.3-jre</guava.version>
    <hutool.version>5.8.25</hutool.version>
    
    <!-- æ·»åŠ å®‰å…¨ä¾èµ– -->
    <spring-security.version>5.7.11</spring-security.version>
</properties>

<!-- å»ºè®®æ·»åŠ çš„ä¾èµ– -->
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-security</artifactId>
</dependency>

<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-actuator</artifactId>
</dependency>
```

### 2. é…ç½®ä¼˜åŒ– âš™ï¸

#### Redisè¿æ¥æ± ä¼˜åŒ–
```yaml
spring:
  redis:
    jedis:
      pool:
        max-active: 800    # ä»400æå‡åˆ°800
        max-wait: 3000     # ä»2000æå‡åˆ°3000
        max-idle: 20       # ä»10æå‡åˆ°20
        min-idle: 5        # æ–°å¢æœ€å°ç©ºé—²è¿æ¥
```

#### çº¿ç¨‹æ± é…ç½®ä¼˜åŒ–
```yaml
websocket:
  framework:
    thread-pool:
      core-size: 20        # ä»10æå‡åˆ°20
      max-size: 100        # ä»50æå‡åˆ°100
      queue-capacity: -1   # ä½¿ç”¨æ— ç•Œé˜Ÿåˆ—é…åˆèƒŒå‹æœºåˆ¶
      task-timeout: 180    # ä»300é™ä½åˆ°180
```

#### å¿ƒè·³é…ç½®åŠ¨æ€åŒ–
```yaml
websocket:
  framework:
    heartbeat:
      interval: 30         # åŸºç¡€é—´éš”
      timeout: 60          # åŸºç¡€è¶…æ—¶
      adaptive: true       # å¯ç”¨è‡ªé€‚åº”è°ƒæ•´
      min-interval: 10     # æœ€å°é—´éš”
      max-interval: 120    # æœ€å¤§é—´éš”
```

### 3. æ¶æ„æ‰©å±•æ€§æ”¹è¿› ğŸ—ï¸

#### æ¶ˆæ¯è·¯ç”±å™¨
```java
// å»ºè®®æ–°å¢ç»„ä»¶
@Component
public class WebSocketMessageRouter {
    
    private final Map<String, MessageRoutingStrategy> routingStrategies;
    
    public void routeMessage(WebSocketEvent<?> event) {
        MessageRoutingStrategy strategy = routingStrategies.get(event.getService());
        if (strategy != null) {
            strategy.route(event);
        }
    }
}
```

#### è®¤è¯æˆæƒæœºåˆ¶
```java
// å»ºè®®æ–°å¢æ‹¦æˆªå™¨
@Component
public class WebSocketAuthInterceptor implements WebSocketEventInterceptor {
    
    @Override
    public boolean preHandle(WebSocketEvent<?> event) {
        // JWT tokenéªŒè¯
        // æƒé™æ£€æŸ¥
        // é¢‘ç‡é™åˆ¶
        return true;
    }
}
```

#### é›†ç¾¤ä¼šè¯åŒæ­¥
```java
// å»ºè®®æ–°å¢ç»„ä»¶
@Component
public class ClusterSessionSynchronizer {
    
    public void syncSessionAcrossCluster(String service, String userId, SessionOperation operation) {
        // Rediså‘å¸ƒ/è®¢é˜…æœºåˆ¶åŒæ­¥ä¼šè¯çŠ¶æ€
        // æˆ–ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—è¿›è¡Œé›†ç¾¤é€šä¿¡
    }
}
```

---

## å®‰å…¨æ€§æ”¹è¿›

### 1. è¿æ¥è®¤è¯
- æ·»åŠ WebSocketæ¡æ‰‹é˜¶æ®µçš„JWT tokenéªŒè¯
- å®ç°åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶(RBAC)
- æ”¯æŒIPç™½åå•å’Œé»‘åå•

### 2. æ¶ˆæ¯å®‰å…¨
- æ¶ˆæ¯å†…å®¹åŠ å¯†ä¼ è¾“
- é˜²æ­¢XSSå’ŒCSRFæ”»å‡»
- æ¶ˆæ¯å¤§å°å’Œé¢‘ç‡é™åˆ¶

### 3. ä¼šè¯å®‰å…¨
- ä¼šè¯åŠ«æŒé˜²æŠ¤
- å¼‚åœ°ç™»å½•æ£€æµ‹
- ä¼šè¯è¶…æ—¶è‡ªåŠ¨æ¸…ç†

---

## æ€§èƒ½ä¼˜åŒ–

### 1. å†…å­˜ä¼˜åŒ– ğŸš€

#### å¯¹è±¡æ± ä¼˜åŒ–
```java
// WebSocketEventå¯¹è±¡æ± ä¼˜åŒ–
public class WebSocketEvent<T> {
    private static final ObjectPool<WebSocketEvent<?>> POOL = 
        new ConcurrentLinkedQueueObjectPool<>(WebSocketEvent::new, 1000);
    
    public static void returnToPool(WebSocketEvent<?> event) {
        event.reset();
        POOL.returnObject(event);
    }
}
```

#### ç¼“å­˜ç­–ç•¥ä¼˜åŒ–
```java
// ä¼šè¯ç®¡ç†å™¨ç¼“å­˜ä¼˜åŒ–
@Component
public class WebSocketSessionManager {
    
    // ä½¿ç”¨Caffeineæ›¿ä»£ConcurrentHashMap
    private final Cache<String, WebSocketSession> sessionCache = 
        Caffeine.newBuilder()
            .maximumSize(10000)
            .expireAfterAccess(Duration.ofMinutes(30))
            .build();
}
```

### 2. ç½‘ç»œä¼˜åŒ– ğŸŒ

#### æ‰¹é‡æ“ä½œä¼˜åŒ–
- Redis Pipelineæ‰¹é‡æ›´æ–°å¿ƒè·³
- æ¶ˆæ¯æ‰¹é‡å‘é€æœºåˆ¶
- è¿æ¥æ± å¤ç”¨ä¼˜åŒ–

#### å‹ç¼©ä¼ è¾“
- WebSocketæ¶ˆæ¯å‹ç¼©ï¼ˆper-message-deflateï¼‰
- å¤§æ¶ˆæ¯åˆ†ç‰‡ä¼ è¾“
- äºŒè¿›åˆ¶æ¶ˆæ¯ä¼˜åŒ–

### 3. ç›‘æ§ä¼˜åŒ– ğŸ“Š

#### è½»é‡çº§ç›‘æ§
```java
// ç›‘æ§æŒ‡æ ‡ç®€åŒ–
public class LightweightThreadPoolMonitor {
    
    private final MeterRegistry meterRegistry;
    
    @EventListener
    @Async
    public void recordMetrics(ThreadPoolMetrics metrics) {
        // ä½¿ç”¨Micrometerå¼‚æ­¥è®°å½•æŒ‡æ ‡
        meterRegistry.gauge("websocket.threadpool.active", metrics.getActiveCount());
        meterRegistry.gauge("websocket.threadpool.queue.size", metrics.getQueueSize());
    }
}
```

---

## å¯è§‚æµ‹æ€§å¢å¼º

### 1. æŒ‡æ ‡ç›‘æ§ ğŸ“ˆ

#### Micrometeré›†æˆ
```xml
<dependency>
    <groupId>io.micrometer</groupId>
    <artifactId>micrometer-registry-prometheus</artifactId>
</dependency>
```

```java
@Component
public class WebSocketMetrics {
    
    private final Counter connectionCounter;
    private final Timer messageProcessingTimer;
    private final Gauge activeSessionsGauge;
    
    public WebSocketMetrics(MeterRegistry registry) {
        this.connectionCounter = Counter.builder("websocket.connections.total")
            .description("Total WebSocket connections")
            .register(registry);
    }
}
```

#### è‡ªå®šä¹‰æŒ‡æ ‡
- è¿æ¥æ•°ç»Ÿè®¡ï¼ˆæŒ‰æœåŠ¡åˆ†ç»„ï¼‰
- æ¶ˆæ¯ååé‡ç»Ÿè®¡
- é”™è¯¯ç‡å’Œå»¶è¿Ÿç»Ÿè®¡
- å†…å­˜ä½¿ç”¨è¶‹åŠ¿

### 2. é“¾è·¯è¿½è¸ª ğŸ”

#### OpenTelemetryé›†æˆ
```xml
<dependency>
    <groupId>io.opentelemetry</groupId>
    <artifactId>opentelemetry-spring-boot-starter</artifactId>
</dependency>
```

```java
@Component
public class WebSocketTracing {
    
    private final Tracer tracer;
    
    public void traceMessage(WebSocketEvent<?> event) {
        Span span = tracer.spanBuilder("websocket.message.process")
            .setAttribute("service", event.getService())
            .setAttribute("user.id", event.getUserId())
            .startSpan();
        
        try (Scope scope = span.makeCurrent()) {
            // å¤„ç†æ¶ˆæ¯
        } finally {
            span.end();
        }
    }
}
```

### 3. æ—¥å¿—ä¼˜åŒ– ğŸ“

#### ç»“æ„åŒ–æ—¥å¿—
```yaml
logging:
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg %X{traceId:-} %X{spanId:-} %n"
    file: "%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg %X{traceId:-} %X{spanId:-} %n"
```

#### å…³é”®äº‹ä»¶æ—¥å¿—
- è¿æ¥å»ºç«‹/æ–­å¼€æ—¥å¿—
- æ¶ˆæ¯å¤„ç†å¼‚å¸¸æ—¥å¿—
- æ€§èƒ½ç“¶é¢ˆé¢„è­¦æ—¥å¿—
- å®‰å…¨äº‹ä»¶å®¡è®¡æ—¥å¿—

---

## å®æ–½å»ºè®®

### ç¬¬ä¸€é˜¶æ®µï¼šåŸºç¡€ä¼˜åŒ–ï¼ˆ1-2å‘¨ï¼‰
1. **ä¾èµ–ç‰ˆæœ¬å‡çº§**
   - å‡çº§Spring Bootåˆ°2.7.18
   - å‡çº§Guavaåˆ°32.1.3-jre
   - æ·»åŠ Spring Securityä¾èµ–

2. **é…ç½®ä¼˜åŒ–**
   - è°ƒæ•´Redisè¿æ¥æ± é…ç½®
   - ä¼˜åŒ–çº¿ç¨‹æ± å‚æ•°
   - å¯ç”¨Spring Boot Actuator

3. **å®‰å…¨åŠ å›º**
   - æ·»åŠ åŸºç¡€è®¤è¯æœºåˆ¶
   - å®ç°æ¶ˆæ¯å¤§å°é™åˆ¶
   - é…ç½®CORSç­–ç•¥

### ç¬¬äºŒé˜¶æ®µï¼šæ€§èƒ½ä¼˜åŒ–ï¼ˆ2-3å‘¨ï¼‰
1. **å†…å­˜ä¼˜åŒ–**
   - å®ç°å¯¹è±¡æ± ä¼˜åŒ–
   - æ·»åŠ Caffeineç¼“å­˜
   - ä¼˜åŒ–äº‹ä»¶å¯¹è±¡å›æ”¶

2. **ç›‘æ§å¢å¼º**
   - é›†æˆMicrometer
   - æ·»åŠ Prometheusç«¯ç‚¹
   - å®ç°è‡ªå®šä¹‰æŒ‡æ ‡

3. **ç½‘ç»œä¼˜åŒ–**
   - å®ç°æ¶ˆæ¯æ‰¹é‡å¤„ç†
   - æ·»åŠ æ¶ˆæ¯å‹ç¼©
   - ä¼˜åŒ–å¿ƒè·³æœºåˆ¶

### ç¬¬ä¸‰é˜¶æ®µï¼šåŠŸèƒ½æ‰©å±•ï¼ˆ3-4å‘¨ï¼‰
1. **æ¶æ„æ‰©å±•**
   - å®ç°æ¶ˆæ¯è·¯ç”±å™¨
   - æ·»åŠ é›†ç¾¤ä¼šè¯åŒæ­¥
   - æ”¯æŒè´Ÿè½½å‡è¡¡

2. **å¯è§‚æµ‹æ€§**
   - é›†æˆOpenTelemetry
   - å®ç°åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ª
   - æ·»åŠ å‘Šè­¦æœºåˆ¶

3. **é«˜å¯ç”¨**
   - å®ç°æ•…éšœè½¬ç§»
   - æ·»åŠ å¥åº·æ£€æŸ¥
   - æ”¯æŒè“ç»¿éƒ¨ç½²

### é£é™©è¯„ä¼°ä¸ç¼“è§£
1. **ç‰ˆæœ¬å‡çº§é£é™©**
   - åœ¨æµ‹è¯•ç¯å¢ƒå……åˆ†éªŒè¯
   - å‡†å¤‡å›æ»šæ–¹æ¡ˆ
   - åˆ†æ­¥éª¤é€æ­¥å‡çº§

2. **æ€§èƒ½å½±å“**
   - å‹åŠ›æµ‹è¯•éªŒè¯æ€§èƒ½
   - ç›‘æ§å…³é”®æŒ‡æ ‡
   - ç°åº¦å‘å¸ƒç­–ç•¥

3. **å…¼å®¹æ€§é—®é¢˜**
   - APIå‘åå…¼å®¹æ€§æ£€æŸ¥
   - å®¢æˆ·ç«¯é€‚é…æ€§æµ‹è¯•
   - æ–‡æ¡£åŒæ­¥æ›´æ–°

---

## æ€»ç»“

å½“å‰WebSocketæ¡†æ¶åœ¨è®¾è®¡ä¸Šå·²ç»ç›¸å½“ä¼˜ç§€ï¼Œå…·å¤‡äº†ä¼ä¸šçº§åº”ç”¨æ‰€éœ€çš„å¤§éƒ¨åˆ†ç‰¹æ€§ã€‚ä¸»è¦çš„æ”¹è¿›ç©ºé—´é›†ä¸­åœ¨ï¼š

1. **å®‰å…¨æ€§å¢å¼º** - è¿™æ˜¯æœ€ä¼˜å…ˆçš„æ”¹è¿›æ–¹å‘
2. **æ€§èƒ½ä¼˜åŒ–** - é‡ç‚¹å…³æ³¨å†…å­˜ä½¿ç”¨å’Œç½‘ç»œæ•ˆç‡
3. **å¯è§‚æµ‹æ€§** - æ·»åŠ ç°ä»£åŒ–çš„ç›‘æ§å’Œè¿½è¸ªèƒ½åŠ›
4. **æ‰©å±•æ€§** - ä¸ºæœªæ¥çš„åŠŸèƒ½æ‰©å±•ç•™å‡ºç©ºé—´

å»ºè®®æŒ‰ç…§ä¸Šè¿°ä¸‰ä¸ªé˜¶æ®µé€æ­¥å®æ–½ï¼Œæ—¢èƒ½ä¿è¯ç³»ç»Ÿç¨³å®šæ€§ï¼Œåˆèƒ½æŒç»­æå‡æ¡†æ¶çš„ä¼ä¸šçº§èƒ½åŠ›ã€‚

---

*æ–‡æ¡£ç”Ÿæˆæ—¶é—´: 2025-08-01*  
*æ¶æ„åˆ†æå¸ˆ: Claude*