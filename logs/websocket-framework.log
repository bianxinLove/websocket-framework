2025-07-25 17:10:45.412 [main] INFO  c.f.w.s.WebSocketSessionManagerTest - Starting WebSocketSessionManagerTest using Java 1.8.0_202 on DESKTOP-EGK8BP4 with PID 33120 (started by admin in D:\workTool\IdeaProjects\websocket-framework)
2025-07-25 17:10:45.415 [main] DEBUG c.f.w.s.WebSocketSessionManagerTest - Running with Spring Boot v2.7.0, Spring v5.3.20
2025-07-25 17:10:45.416 [main] INFO  c.f.w.s.WebSocketSessionManagerTest - No active profile set, falling back to 1 default profile: "default"
2025-07-25 17:10:46.574 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2025-07-25 17:10:46.581 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-25 17:10:46.639 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-07-25 17:10:48.051 [main] INFO  c.f.w.event.WebSocketEventBus - WebSocketÊÂ¼ş×ÜÏß³õÊ¼»¯Íê³É
2025-07-25 17:10:48.112 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'serverEndpointExporter' defined in class path resource [com/framework/websocket/config/WebSocketFrameworkConfig.class]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: javax.websocket.server.ServerContainer not available
2025-07-25 17:10:48.113 [main] INFO  c.f.w.event.WebSocketEventBus - WebSocketÊÂ¼ş×ÜÏßÏß³Ì³ØÒÑ¹Ø±Õ
2025-07-25 17:10:48.169 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-07-25 17:10:48.205 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'serverEndpointExporter' defined in class path resource [com/framework/websocket/config/WebSocketFrameworkConfig.class]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: javax.websocket.server.ServerContainer not available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: java.lang.IllegalStateException: javax.websocket.server.ServerContainer not available
	at org.springframework.util.Assert.state(Assert.java:76)
	at org.springframework.web.socket.server.standard.ServerEndpointExporter.afterPropertiesSet(ServerEndpointExporter.java:107)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 47 common frames omitted
2025-07-25 17:10:48.207 [main] ERROR o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@3d34d211] to prepare test instance [com.framework.websocket.session.WebSocketSessionManagerTest@7bc44ce8]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'serverEndpointExporter' defined in class path resource [com/framework/websocket/config/WebSocketFrameworkConfig.class]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: javax.websocket.server.ServerContainer not available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	... 32 common frames omitted
Caused by: java.lang.IllegalStateException: javax.websocket.server.ServerContainer not available
	at org.springframework.util.Assert.state(Assert.java:76)
	at org.springframework.web.socket.server.standard.ServerEndpointExporter.afterPropertiesSet(ServerEndpointExporter.java:107)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 47 common frames omitted
2025-07-25 17:12:29.014 [main] INFO  c.f.w.s.WebSocketSessionManagerTest - Starting WebSocketSessionManagerTest using Java 1.8.0_202 on DESKTOP-EGK8BP4 with PID 27400 (started by admin in D:\workTool\IdeaProjects\websocket-framework)
2025-07-25 17:12:29.016 [main] DEBUG c.f.w.s.WebSocketSessionManagerTest - Running with Spring Boot v2.7.0, Spring v5.3.20
2025-07-25 17:12:29.018 [main] INFO  c.f.w.s.WebSocketSessionManagerTest - No active profile set, falling back to 1 default profile: "default"
2025-07-25 17:12:30.182 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2025-07-25 17:12:30.189 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-25 17:12:30.236 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2025-07-25 17:12:31.891 [main] INFO  c.f.w.event.WebSocketEventBus - WebSocketÊÂ¼ş×ÜÏß³õÊ¼»¯Íê³É
2025-07-25 17:12:31.952 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'serverEndpointExporter' defined in class path resource [com/framework/websocket/config/WebSocketFrameworkConfig.class]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: javax.websocket.server.ServerContainer not available
2025-07-25 17:12:31.953 [main] INFO  c.f.w.event.WebSocketEventBus - WebSocketÊÂ¼ş×ÜÏßÏß³Ì³ØÒÑ¹Ø±Õ
2025-07-25 17:12:32.014 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2025-07-25 17:12:32.050 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'serverEndpointExporter' defined in class path resource [com/framework/websocket/config/WebSocketFrameworkConfig.class]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: javax.websocket.server.ServerContainer not available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: java.lang.IllegalStateException: javax.websocket.server.ServerContainer not available
	at org.springframework.util.Assert.state(Assert.java:76)
	at org.springframework.web.socket.server.standard.ServerEndpointExporter.afterPropertiesSet(ServerEndpointExporter.java:107)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 47 common frames omitted
2025-07-25 17:12:32.055 [main] ERROR o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@3d34d211] to prepare test instance [com.framework.websocket.session.WebSocketSessionManagerTest@467b684d]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:252)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:141)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:112)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:189)
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:165)
	at org.apache.maven.surefire.booter.ProviderFactory.invokeProvider(ProviderFactory.java:85)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:115)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:75)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'serverEndpointExporter' defined in class path resource [com/framework/websocket/config/WebSocketFrameworkConfig.class]: Invocation of init method failed; nested exception is java.lang.IllegalStateException: javax.websocket.server.ServerContainer not available
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	... 32 common frames omitted
Caused by: java.lang.IllegalStateException: javax.websocket.server.ServerContainer not available
	at org.springframework.util.Assert.state(Assert.java:76)
	at org.springframework.web.socket.server.standard.ServerEndpointExporter.afterPropertiesSet(ServerEndpointExporter.java:107)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 47 common frames omitted
2025-07-25 17:16:32.255 [main] INFO  c.f.w.WebSocketFrameworkApplication - Starting WebSocketFrameworkApplication using Java 1.8.0_202 on DESKTOP-EGK8BP4 with PID 24012 (D:\workTool\IdeaProjects\websocket-framework\target\classes started by admin in D:\workTool\IdeaProjects\websocket-framework)
2025-07-25 17:16:32.258 [main] DEBUG c.f.w.WebSocketFrameworkApplication - Running with Spring Boot v2.7.0, Spring v5.3.20
2025-07-25 17:16:32.259 [main] INFO  c.f.w.WebSocketFrameworkApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-25 17:16:33.453 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode!
2025-07-25 17:16:33.458 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-07-25 17:16:33.505 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2025-07-25 17:16:34.351 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-07-25 17:16:34.371 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-07-25 17:16:34.372 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.63]
2025-07-25 17:16:34.686 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-07-25 17:16:34.687 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2306 ms
2025-07-25 17:16:34.888 [main] INFO  c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶æ€»çº¿åˆå§‹åŒ–å®Œæˆ
2025-07-25 17:16:36.499 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path ''
2025-07-25 17:16:36.522 [main] INFO  c.f.w.WebSocketFrameworkApplication - Started WebSocketFrameworkApplication in 5.444 seconds (JVM running for 8.056)
2025-07-25 17:17:11.531 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-25 17:17:11.531 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-25 17:17:11.539 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 8 ms
2025-07-25 17:17:11.582 [http-nio-8080-exec-2] DEBUG c.f.w.core.WebSocketEndpointConfig - WebSocketè¿æ¥æ¥æºæ£€æŸ¥: origin=http://wstool.js.org
2025-07-25 17:17:11.587 [http-nio-8080-exec-2] DEBUG c.f.w.core.WebSocketEndpointConfig - WebSocketå­åè®®åå•†: supported=[], requested=[]
2025-07-25 17:17:11.591 [http-nio-8080-exec-2] DEBUG c.f.w.core.WebSocketEndpointConfig - WebSocketæ‰©å±•åå•†: installed=[org.apache.tomcat.websocket.WsExtension@354bc7e6], requested=[org.apache.tomcat.websocket.WsExtension@7448ac0a]
2025-07-25 17:17:11.650 [http-nio-8080-exec-2] DEBUG c.f.w.core.WebSocketEndpointConfig - WebSocketæ¡æ‰‹ä¿¡æ¯æå–å®Œæˆ: clientIp=null, userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-25 17:17:14.720 [http-nio-8080-exec-2] DEBUG c.f.w.s.WebSocketSessionManager - WebSocketå¿ƒè·³å·²æ›´æ–°: service=chatroom, userId=clientId1, timeout=60s
2025-07-25 17:17:14.720 [http-nio-8080-exec-2] INFO  c.f.w.s.WebSocketSessionManager - WebSocketä¼šè¯å·²æ·»åŠ : service=chatroom, userId=clientId1, sessionId=0
2025-07-25 17:17:14.740 [http-nio-8080-exec-2] DEBUG c.f.w.session.WebSocketSession - å¿ƒè·³æ¶ˆæ¯å‘é€æˆåŠŸ: sessionId=0, userId=clientId1, service=chatroom
2025-07-25 17:17:14.740 [http-nio-8080-exec-2] DEBUG c.f.websocket.core.WebSocketServer - å‘é€WebSocketå¿ƒè·³: service=chatroom, userId=clientId1, sessionId=0
2025-07-25 17:17:14.920 [http-nio-8080-exec-2] DEBUG c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶å·²å‘å¸ƒ: WebSocketEvent(eventType=ON_OPEN, sessionId=0, userId=clientId1, service=chatroom, clientIp=null, data=è¿æ¥å»ºç«‹æˆåŠŸ, eventTime=2025-07-25T17:17:14.741, properties=null, errorMessage=null, throwable=null)
2025-07-25 17:17:14.920 [http-nio-8080-exec-2] INFO  c.f.websocket.core.WebSocketServer - WebSocketè¿æ¥å»ºç«‹: service=chatroom, userId=clientId1, sessionId=0, clientIp=null
2025-07-25 17:17:14.973 [http-nio-8080-exec-2] DEBUG c.f.w.s.WebSocketSessionManager - WebSocketå¿ƒè·³å·²æ›´æ–°: service=chatroom, userId=clientId1, timeout=60s
2025-07-25 17:17:14.973 [http-nio-8080-exec-2] DEBUG c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶å·²å‘å¸ƒ: WebSocketEvent(eventType=ON_HEARTBEAT, sessionId=0, userId=clientId1, service=chatroom, clientIp=null, data=å¿ƒè·³å“åº”, eventTime=2025-07-25T17:17:14.973, properties=null, errorMessage=null, throwable=null)
2025-07-25 17:17:14.975 [http-nio-8080-exec-2] DEBUG c.f.websocket.core.WebSocketServer - æ¥æ”¶åˆ°WebSocketå¿ƒè·³å“åº”: service=chatroom, userId=clientId1, sessionId=0
2025-07-25 17:17:41.637 [http-nio-8080-exec-3] DEBUG c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶å·²å‘å¸ƒ: WebSocketEvent(eventType=ON_MESSAGE, sessionId=0, userId=clientId1, service=chatroom, clientIp=null, data=PING, eventTime=2025-07-25T17:17:41.637, properties=null, errorMessage=null, throwable=null)
2025-07-25 17:17:41.637 [http-nio-8080-exec-3] INFO  c.f.websocket.core.WebSocketServer - æ¥æ”¶åˆ°WebSocketæ¶ˆæ¯: service=chatroom, userId=clientId1, sessionId=0, message=PING
2025-07-25 17:17:42.625 [http-nio-8080-exec-1] DEBUG c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶å·²å‘å¸ƒ: WebSocketEvent(eventType=ON_MESSAGE, sessionId=0, userId=clientId1, service=chatroom, clientIp=null, data=PING, eventTime=2025-07-25T17:17:42.625, properties=null, errorMessage=null, throwable=null)
2025-07-25 17:17:42.625 [http-nio-8080-exec-1] INFO  c.f.websocket.core.WebSocketServer - æ¥æ”¶åˆ°WebSocketæ¶ˆæ¯: service=chatroom, userId=clientId1, sessionId=0, message=PING
2025-07-25 17:17:43.638 [http-nio-8080-exec-4] DEBUG c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶å·²å‘å¸ƒ: WebSocketEvent(eventType=ON_MESSAGE, sessionId=0, userId=clientId1, service=chatroom, clientIp=null, data=PING, eventTime=2025-07-25T17:17:43.638, properties=null, errorMessage=null, throwable=null)
2025-07-25 17:17:43.638 [http-nio-8080-exec-4] INFO  c.f.websocket.core.WebSocketServer - æ¥æ”¶åˆ°WebSocketæ¶ˆæ¯: service=chatroom, userId=clientId1, sessionId=0, message=PING
2025-07-25 17:17:44.632 [http-nio-8080-exec-5] DEBUG c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶å·²å‘å¸ƒ: WebSocketEvent(eventType=ON_MESSAGE, sessionId=0, userId=clientId1, service=chatroom, clientIp=null, data=PING, eventTime=2025-07-25T17:17:44.632, properties=null, errorMessage=null, throwable=null)
2025-07-25 17:17:44.633 [http-nio-8080-exec-5] INFO  c.f.websocket.core.WebSocketServer - æ¥æ”¶åˆ°WebSocketæ¶ˆæ¯: service=chatroom, userId=clientId1, sessionId=0, message=PING
2025-07-25 17:17:44.756 [WebSocket-1] DEBUG c.f.w.session.WebSocketSession - å¿ƒè·³æ¶ˆæ¯å‘é€æˆåŠŸ: sessionId=0, userId=clientId1, service=chatroom
2025-07-25 17:17:44.757 [WebSocket-1] DEBUG c.f.websocket.core.WebSocketServer - å‘é€WebSocketå¿ƒè·³: service=chatroom, userId=clientId1, sessionId=0
2025-07-25 17:17:44.788 [http-nio-8080-exec-6] DEBUG c.f.w.s.WebSocketSessionManager - WebSocketå¿ƒè·³å·²æ›´æ–°: service=chatroom, userId=clientId1, timeout=60s
2025-07-25 17:17:44.789 [http-nio-8080-exec-6] DEBUG c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶å·²å‘å¸ƒ: WebSocketEvent(eventType=ON_HEARTBEAT, sessionId=0, userId=clientId1, service=chatroom, clientIp=null, data=å¿ƒè·³å“åº”, eventTime=2025-07-25T17:17:44.789, properties=null, errorMessage=null, throwable=null)
2025-07-25 17:17:44.789 [http-nio-8080-exec-6] DEBUG c.f.websocket.core.WebSocketServer - æ¥æ”¶åˆ°WebSocketå¿ƒè·³å“åº”: service=chatroom, userId=clientId1, sessionId=0
2025-07-25 17:17:45.310 [http-nio-8080-exec-7] DEBUG c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶å·²å‘å¸ƒ: WebSocketEvent(eventType=ON_MESSAGE, sessionId=0, userId=clientId1, service=chatroom, clientIp=null, data=PING, eventTime=2025-07-25T17:17:45.310, properties=null, errorMessage=null, throwable=null)
2025-07-25 17:17:45.311 [http-nio-8080-exec-7] INFO  c.f.websocket.core.WebSocketServer - æ¥æ”¶åˆ°WebSocketæ¶ˆæ¯: service=chatroom, userId=clientId1, sessionId=0, message=PING
2025-07-25 17:17:52.575 [http-nio-8080-exec-10] DEBUG c.f.w.core.WebSocketEndpointConfig - WebSocketè¿æ¥æ¥æºæ£€æŸ¥: origin=http://wstool.js.org
2025-07-25 17:17:52.576 [http-nio-8080-exec-10] DEBUG c.f.w.core.WebSocketEndpointConfig - WebSocketå­åè®®åå•†: supported=[], requested=[]
2025-07-25 17:17:52.576 [http-nio-8080-exec-10] DEBUG c.f.w.core.WebSocketEndpointConfig - WebSocketæ‰©å±•åå•†: installed=[org.apache.tomcat.websocket.WsExtension@354bc7e6], requested=[org.apache.tomcat.websocket.WsExtension@71d23818]
2025-07-25 17:17:52.577 [http-nio-8080-exec-10] DEBUG c.f.w.core.WebSocketEndpointConfig - WebSocketæ¡æ‰‹ä¿¡æ¯æå–å®Œæˆ: clientIp=null, userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-25 17:17:52.620 [http-nio-8080-exec-10] DEBUG c.f.w.s.WebSocketSessionManager - WebSocketå¿ƒè·³å·²æ›´æ–°: service=chatroom, userId=clientId2, timeout=60s
2025-07-25 17:17:52.620 [http-nio-8080-exec-10] INFO  c.f.w.s.WebSocketSessionManager - WebSocketä¼šè¯å·²æ·»åŠ : service=chatroom, userId=clientId2, sessionId=1
2025-07-25 17:17:52.621 [http-nio-8080-exec-10] DEBUG c.f.w.session.WebSocketSession - å¿ƒè·³æ¶ˆæ¯å‘é€æˆåŠŸ: sessionId=1, userId=clientId2, service=chatroom
2025-07-25 17:17:52.622 [http-nio-8080-exec-10] DEBUG c.f.websocket.core.WebSocketServer - å‘é€WebSocketå¿ƒè·³: service=chatroom, userId=clientId2, sessionId=1
2025-07-25 17:17:52.622 [http-nio-8080-exec-10] DEBUG c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶å·²å‘å¸ƒ: WebSocketEvent(eventType=ON_OPEN, sessionId=1, userId=clientId2, service=chatroom, clientIp=null, data=è¿æ¥å»ºç«‹æˆåŠŸ, eventTime=2025-07-25T17:17:52.622, properties=null, errorMessage=null, throwable=null)
2025-07-25 17:17:52.622 [http-nio-8080-exec-10] INFO  c.f.websocket.core.WebSocketServer - WebSocketè¿æ¥å»ºç«‹: service=chatroom, userId=clientId2, sessionId=1, clientIp=null
2025-07-25 17:17:52.652 [http-nio-8080-exec-10] DEBUG c.f.w.s.WebSocketSessionManager - WebSocketå¿ƒè·³å·²æ›´æ–°: service=chatroom, userId=clientId2, timeout=60s
2025-07-25 17:17:52.652 [http-nio-8080-exec-10] DEBUG c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶å·²å‘å¸ƒ: WebSocketEvent(eventType=ON_HEARTBEAT, sessionId=1, userId=clientId2, service=chatroom, clientIp=null, data=å¿ƒè·³å“åº”, eventTime=2025-07-25T17:17:52.652, properties=null, errorMessage=null, throwable=null)
2025-07-25 17:17:52.652 [http-nio-8080-exec-10] DEBUG c.f.websocket.core.WebSocketServer - æ¥æ”¶åˆ°WebSocketå¿ƒè·³å“åº”: service=chatroom, userId=clientId2, sessionId=1
2025-07-25 17:18:14.771 [WebSocket-1] DEBUG c.f.w.session.WebSocketSession - å¿ƒè·³æ¶ˆæ¯å‘é€æˆåŠŸ: sessionId=0, userId=clientId1, service=chatroom
2025-07-25 17:18:14.773 [WebSocket-1] DEBUG c.f.websocket.core.WebSocketServer - å‘é€WebSocketå¿ƒè·³: service=chatroom, userId=clientId1, sessionId=0
2025-07-25 17:18:14.807 [http-nio-8080-exec-9] DEBUG c.f.w.s.WebSocketSessionManager - WebSocketå¿ƒè·³å·²æ›´æ–°: service=chatroom, userId=clientId1, timeout=60s
2025-07-25 17:18:14.808 [http-nio-8080-exec-9] DEBUG c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶å·²å‘å¸ƒ: WebSocketEvent(eventType=ON_HEARTBEAT, sessionId=0, userId=clientId1, service=chatroom, clientIp=null, data=å¿ƒè·³å“åº”, eventTime=2025-07-25T17:18:14.808, properties=null, errorMessage=null, throwable=null)
2025-07-25 17:18:14.808 [http-nio-8080-exec-9] DEBUG c.f.websocket.core.WebSocketServer - æ¥æ”¶åˆ°WebSocketå¿ƒè·³å“åº”: service=chatroom, userId=clientId1, sessionId=0
2025-07-25 17:18:22.627 [WebSocket-2] DEBUG c.f.w.session.WebSocketSession - å¿ƒè·³æ¶ˆæ¯å‘é€æˆåŠŸ: sessionId=1, userId=clientId2, service=chatroom
2025-07-25 17:18:22.629 [WebSocket-2] DEBUG c.f.websocket.core.WebSocketServer - å‘é€WebSocketå¿ƒè·³: service=chatroom, userId=clientId2, sessionId=1
2025-07-25 17:18:22.661 [http-nio-8080-exec-8] DEBUG c.f.w.s.WebSocketSessionManager - WebSocketå¿ƒè·³å·²æ›´æ–°: service=chatroom, userId=clientId2, timeout=60s
2025-07-25 17:18:22.662 [http-nio-8080-exec-8] DEBUG c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶å·²å‘å¸ƒ: WebSocketEvent(eventType=ON_HEARTBEAT, sessionId=1, userId=clientId2, service=chatroom, clientIp=null, data=å¿ƒè·³å“åº”, eventTime=2025-07-25T17:18:22.662, properties=null, errorMessage=null, throwable=null)
2025-07-25 17:18:22.662 [http-nio-8080-exec-8] DEBUG c.f.websocket.core.WebSocketServer - æ¥æ”¶åˆ°WebSocketå¿ƒè·³å“åº”: service=chatroom, userId=clientId2, sessionId=1
2025-07-25 17:18:40.052 [http-nio-8080-exec-4] DEBUG c.f.w.core.WebSocketEndpointConfig - WebSocketè¿æ¥æ¥æºæ£€æŸ¥: origin=http://localhost:8080
2025-07-25 17:18:40.052 [http-nio-8080-exec-4] DEBUG c.f.w.core.WebSocketEndpointConfig - WebSocketå­åè®®åå•†: supported=[], requested=[]
2025-07-25 17:18:40.053 [http-nio-8080-exec-4] DEBUG c.f.w.core.WebSocketEndpointConfig - WebSocketæ‰©å±•åå•†: installed=[org.apache.tomcat.websocket.WsExtension@354bc7e6], requested=[org.apache.tomcat.websocket.WsExtension@29394ff1]
2025-07-25 17:18:40.054 [http-nio-8080-exec-4] DEBUG c.f.w.core.WebSocketEndpointConfig - WebSocketæ¡æ‰‹ä¿¡æ¯æå–å®Œæˆ: clientIp=null, userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-25 17:18:40.093 [http-nio-8080-exec-4] DEBUG c.f.w.s.WebSocketSessionManager - WebSocketå¿ƒè·³å·²æ›´æ–°: service=notification, userId=user2, timeout=60s
2025-07-25 17:18:40.093 [http-nio-8080-exec-4] INFO  c.f.w.s.WebSocketSessionManager - WebSocketä¼šè¯å·²æ·»åŠ : service=notification, userId=user2, sessionId=2
2025-07-25 17:18:40.093 [http-nio-8080-exec-4] DEBUG c.f.w.session.WebSocketSession - å¿ƒè·³æ¶ˆæ¯å‘é€æˆåŠŸ: sessionId=2, userId=user2, service=notification
2025-07-25 17:18:40.093 [http-nio-8080-exec-4] DEBUG c.f.websocket.core.WebSocketServer - å‘é€WebSocketå¿ƒè·³: service=notification, userId=user2, sessionId=2
2025-07-25 17:18:40.093 [http-nio-8080-exec-4] DEBUG c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶å·²å‘å¸ƒ: WebSocketEvent(eventType=ON_OPEN, sessionId=2, userId=user2, service=notification, clientIp=null, data=è¿æ¥å»ºç«‹æˆåŠŸ, eventTime=2025-07-25T17:18:40.093, properties=null, errorMessage=null, throwable=null)
2025-07-25 17:18:40.093 [http-nio-8080-exec-4] INFO  c.f.websocket.core.WebSocketServer - WebSocketè¿æ¥å»ºç«‹: service=notification, userId=user2, sessionId=2, clientIp=null
2025-07-25 17:18:40.187 [http-nio-8080-exec-4] DEBUG c.f.w.s.WebSocketSessionManager - WebSocketå¿ƒè·³å·²æ›´æ–°: service=notification, userId=user2, timeout=60s
2025-07-25 17:18:40.187 [http-nio-8080-exec-4] DEBUG c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶å·²å‘å¸ƒ: WebSocketEvent(eventType=ON_HEARTBEAT, sessionId=2, userId=user2, service=notification, clientIp=null, data=å¿ƒè·³å“åº”, eventTime=2025-07-25T17:18:40.187, properties=null, errorMessage=null, throwable=null)
2025-07-25 17:18:40.189 [http-nio-8080-exec-4] DEBUG c.f.websocket.core.WebSocketServer - æ¥æ”¶åˆ°WebSocketå¿ƒè·³å“åº”: service=notification, userId=user2, sessionId=2
2025-07-25 17:18:42.390 [http-nio-8080-exec-5] DEBUG c.f.w.core.WebSocketEndpointConfig - WebSocketè¿æ¥æ¥æºæ£€æŸ¥: origin=http://localhost:8080
2025-07-25 17:18:42.391 [http-nio-8080-exec-5] DEBUG c.f.w.core.WebSocketEndpointConfig - WebSocketå­åè®®åå•†: supported=[], requested=[]
2025-07-25 17:18:42.392 [http-nio-8080-exec-5] DEBUG c.f.w.core.WebSocketEndpointConfig - WebSocketæ‰©å±•åå•†: installed=[org.apache.tomcat.websocket.WsExtension@354bc7e6], requested=[org.apache.tomcat.websocket.WsExtension@5e5f5ba6]
2025-07-25 17:18:42.393 [http-nio-8080-exec-5] DEBUG c.f.w.core.WebSocketEndpointConfig - WebSocketæ¡æ‰‹ä¿¡æ¯æå–å®Œæˆ: clientIp=null, userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Safari/537.36 Edg/138.0.0.0
2025-07-25 17:18:42.428 [http-nio-8080-exec-5] DEBUG c.f.w.s.WebSocketSessionManager - WebSocketå¿ƒè·³å·²æ›´æ–°: service=chatroom, userId=user1, timeout=60s
2025-07-25 17:18:42.428 [http-nio-8080-exec-5] INFO  c.f.w.s.WebSocketSessionManager - WebSocketä¼šè¯å·²æ·»åŠ : service=chatroom, userId=user1, sessionId=3
2025-07-25 17:18:42.430 [http-nio-8080-exec-5] DEBUG c.f.w.session.WebSocketSession - å¿ƒè·³æ¶ˆæ¯å‘é€æˆåŠŸ: sessionId=3, userId=user1, service=chatroom
2025-07-25 17:18:42.430 [http-nio-8080-exec-5] DEBUG c.f.websocket.core.WebSocketServer - å‘é€WebSocketå¿ƒè·³: service=chatroom, userId=user1, sessionId=3
2025-07-25 17:18:42.431 [http-nio-8080-exec-5] DEBUG c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶å·²å‘å¸ƒ: WebSocketEvent(eventType=ON_OPEN, sessionId=3, userId=user1, service=chatroom, clientIp=null, data=è¿æ¥å»ºç«‹æˆåŠŸ, eventTime=2025-07-25T17:18:42.431, properties=null, errorMessage=null, throwable=null)
2025-07-25 17:18:42.431 [http-nio-8080-exec-5] INFO  c.f.websocket.core.WebSocketServer - WebSocketè¿æ¥å»ºç«‹: service=chatroom, userId=user1, sessionId=3, clientIp=null
2025-07-25 17:18:42.468 [http-nio-8080-exec-5] DEBUG c.f.w.s.WebSocketSessionManager - WebSocketå¿ƒè·³å·²æ›´æ–°: service=chatroom, userId=user1, timeout=60s
2025-07-25 17:18:42.468 [http-nio-8080-exec-5] DEBUG c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶å·²å‘å¸ƒ: WebSocketEvent(eventType=ON_HEARTBEAT, sessionId=3, userId=user1, service=chatroom, clientIp=null, data=å¿ƒè·³å“åº”, eventTime=2025-07-25T17:18:42.468, properties=null, errorMessage=null, throwable=null)
2025-07-25 17:18:42.469 [http-nio-8080-exec-5] DEBUG c.f.websocket.core.WebSocketServer - æ¥æ”¶åˆ°WebSocketå¿ƒè·³å“åº”: service=chatroom, userId=user1, sessionId=3
2025-07-25 17:18:44.787 [WebSocket-3] DEBUG c.f.w.session.WebSocketSession - å¿ƒè·³æ¶ˆæ¯å‘é€æˆåŠŸ: sessionId=0, userId=clientId1, service=chatroom
2025-07-25 17:18:44.788 [WebSocket-3] DEBUG c.f.websocket.core.WebSocketServer - å‘é€WebSocketå¿ƒè·³: service=chatroom, userId=clientId1, sessionId=0
2025-07-25 17:18:44.820 [http-nio-8080-exec-6] DEBUG c.f.w.s.WebSocketSessionManager - WebSocketå¿ƒè·³å·²æ›´æ–°: service=chatroom, userId=clientId1, timeout=60s
2025-07-25 17:18:44.820 [http-nio-8080-exec-6] DEBUG c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶å·²å‘å¸ƒ: WebSocketEvent(eventType=ON_HEARTBEAT, sessionId=0, userId=clientId1, service=chatroom, clientIp=null, data=å¿ƒè·³å“åº”, eventTime=2025-07-25T17:18:44.820, properties=null, errorMessage=null, throwable=null)
2025-07-25 17:18:44.820 [http-nio-8080-exec-6] DEBUG c.f.websocket.core.WebSocketServer - æ¥æ”¶åˆ°WebSocketå¿ƒè·³å“åº”: service=chatroom, userId=clientId1, sessionId=0
2025-07-25 17:18:45.004 [http-nio-8080-exec-7] DEBUG c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶å·²å‘å¸ƒ: WebSocketEvent(eventType=ON_MESSAGE, sessionId=3, userId=user1, service=chatroom, clientIp=null, data=111, eventTime=2025-07-25T17:18:45.004, properties=null, errorMessage=null, throwable=null)
2025-07-25 17:18:45.005 [http-nio-8080-exec-7] INFO  c.f.websocket.core.WebSocketServer - æ¥æ”¶åˆ°WebSocketæ¶ˆæ¯: service=chatroom, userId=user1, sessionId=3, message=111
2025-07-25 17:18:49.667 [http-nio-8080-exec-10] DEBUG c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶å·²å‘å¸ƒ: WebSocketEvent(eventType=ON_MESSAGE, sessionId=2, userId=user2, service=notification, clientIp=null, data=status, eventTime=2025-07-25T17:18:49.667, properties=null, errorMessage=null, throwable=null)
2025-07-25 17:18:49.668 [http-nio-8080-exec-10] INFO  c.f.websocket.core.WebSocketServer - æ¥æ”¶åˆ°WebSocketæ¶ˆæ¯: service=notification, userId=user2, sessionId=2, message=status
2025-07-25 17:18:51.883 [http-nio-8080-exec-9] DEBUG c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶å·²å‘å¸ƒ: WebSocketEvent(eventType=ON_MESSAGE, sessionId=2, userId=user2, service=notification, clientIp=null, data=ping, eventTime=2025-07-25T17:18:51.883, properties=null, errorMessage=null, throwable=null)
2025-07-25 17:18:51.884 [http-nio-8080-exec-9] INFO  c.f.websocket.core.WebSocketServer - æ¥æ”¶åˆ°WebSocketæ¶ˆæ¯: service=notification, userId=user2, sessionId=2, message=ping
2025-07-25 17:18:52.644 [WebSocket-1] DEBUG c.f.w.session.WebSocketSession - å¿ƒè·³æ¶ˆæ¯å‘é€æˆåŠŸ: sessionId=1, userId=clientId2, service=chatroom
2025-07-25 17:18:52.646 [WebSocket-1] DEBUG c.f.websocket.core.WebSocketServer - å‘é€WebSocketå¿ƒè·³: service=chatroom, userId=clientId2, sessionId=1
2025-07-25 17:18:52.680 [http-nio-8080-exec-8] DEBUG c.f.w.s.WebSocketSessionManager - WebSocketå¿ƒè·³å·²æ›´æ–°: service=chatroom, userId=clientId2, timeout=60s
2025-07-25 17:18:52.680 [http-nio-8080-exec-8] DEBUG c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶å·²å‘å¸ƒ: WebSocketEvent(eventType=ON_HEARTBEAT, sessionId=1, userId=clientId2, service=chatroom, clientIp=null, data=å¿ƒè·³å“åº”, eventTime=2025-07-25T17:18:52.680, properties=null, errorMessage=null, throwable=null)
2025-07-25 17:18:52.680 [http-nio-8080-exec-8] DEBUG c.f.websocket.core.WebSocketServer - æ¥æ”¶åˆ°WebSocketå¿ƒè·³å“åº”: service=chatroom, userId=clientId2, sessionId=1
2025-07-25 17:18:55.170 [http-nio-8080-exec-2] DEBUG c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶å·²å‘å¸ƒ: WebSocketEvent(eventType=ON_MESSAGE, sessionId=2, userId=user2, service=notification, clientIp=null, data=ping, eventTime=2025-07-25T17:18:55.170, properties=null, errorMessage=null, throwable=null)
2025-07-25 17:18:55.171 [http-nio-8080-exec-2] INFO  c.f.websocket.core.WebSocketServer - æ¥æ”¶åˆ°WebSocketæ¶ˆæ¯: service=notification, userId=user2, sessionId=2, message=ping
2025-07-25 17:19:10.102 [WebSocket-4] DEBUG c.f.w.session.WebSocketSession - å¿ƒè·³æ¶ˆæ¯å‘é€æˆåŠŸ: sessionId=2, userId=user2, service=notification
2025-07-25 17:19:10.103 [WebSocket-4] DEBUG c.f.websocket.core.WebSocketServer - å‘é€WebSocketå¿ƒè·³: service=notification, userId=user2, sessionId=2
2025-07-25 17:19:10.150 [http-nio-8080-exec-3] DEBUG c.f.w.s.WebSocketSessionManager - WebSocketå¿ƒè·³å·²æ›´æ–°: service=notification, userId=user2, timeout=60s
2025-07-25 17:19:10.150 [http-nio-8080-exec-3] DEBUG c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶å·²å‘å¸ƒ: WebSocketEvent(eventType=ON_HEARTBEAT, sessionId=2, userId=user2, service=notification, clientIp=null, data=å¿ƒè·³å“åº”, eventTime=2025-07-25T17:19:10.150, properties=null, errorMessage=null, throwable=null)
2025-07-25 17:19:10.151 [http-nio-8080-exec-3] DEBUG c.f.websocket.core.WebSocketServer - æ¥æ”¶åˆ°WebSocketå¿ƒè·³å“åº”: service=notification, userId=user2, sessionId=2
2025-07-25 17:19:12.438 [WebSocket-2] DEBUG c.f.w.session.WebSocketSession - å¿ƒè·³æ¶ˆæ¯å‘é€æˆåŠŸ: sessionId=3, userId=user1, service=chatroom
2025-07-25 17:19:12.439 [WebSocket-2] DEBUG c.f.websocket.core.WebSocketServer - å‘é€WebSocketå¿ƒè·³: service=chatroom, userId=user1, sessionId=3
2025-07-25 17:19:12.472 [http-nio-8080-exec-1] DEBUG c.f.w.s.WebSocketSessionManager - WebSocketå¿ƒè·³å·²æ›´æ–°: service=chatroom, userId=user1, timeout=60s
2025-07-25 17:19:12.473 [http-nio-8080-exec-1] DEBUG c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶å·²å‘å¸ƒ: WebSocketEvent(eventType=ON_HEARTBEAT, sessionId=3, userId=user1, service=chatroom, clientIp=null, data=å¿ƒè·³å“åº”, eventTime=2025-07-25T17:19:12.473, properties=null, errorMessage=null, throwable=null)
2025-07-25 17:19:12.473 [http-nio-8080-exec-1] DEBUG c.f.websocket.core.WebSocketServer - æ¥æ”¶åˆ°WebSocketå¿ƒè·³å“åº”: service=chatroom, userId=user1, sessionId=3
2025-07-25 17:19:14.793 [WebSocket-5] DEBUG c.f.w.session.WebSocketSession - å¿ƒè·³æ¶ˆæ¯å‘é€æˆåŠŸ: sessionId=0, userId=clientId1, service=chatroom
2025-07-25 17:19:14.795 [WebSocket-5] DEBUG c.f.websocket.core.WebSocketServer - å‘é€WebSocketå¿ƒè·³: service=chatroom, userId=clientId1, sessionId=0
2025-07-25 17:19:14.828 [http-nio-8080-exec-4] DEBUG c.f.w.s.WebSocketSessionManager - WebSocketå¿ƒè·³å·²æ›´æ–°: service=chatroom, userId=clientId1, timeout=60s
2025-07-25 17:19:14.829 [http-nio-8080-exec-4] DEBUG c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶å·²å‘å¸ƒ: WebSocketEvent(eventType=ON_HEARTBEAT, sessionId=0, userId=clientId1, service=chatroom, clientIp=null, data=å¿ƒè·³å“åº”, eventTime=2025-07-25T17:19:14.829, properties=null, errorMessage=null, throwable=null)
2025-07-25 17:19:14.830 [http-nio-8080-exec-4] DEBUG c.f.websocket.core.WebSocketServer - æ¥æ”¶åˆ°WebSocketå¿ƒè·³å“åº”: service=chatroom, userId=clientId1, sessionId=0
2025-07-25 17:19:22.649 [WebSocket-6] DEBUG c.f.w.session.WebSocketSession - å¿ƒè·³æ¶ˆæ¯å‘é€æˆåŠŸ: sessionId=1, userId=clientId2, service=chatroom
2025-07-25 17:19:22.649 [WebSocket-6] DEBUG c.f.websocket.core.WebSocketServer - å‘é€WebSocketå¿ƒè·³: service=chatroom, userId=clientId2, sessionId=1
2025-07-25 17:19:22.689 [http-nio-8080-exec-5] DEBUG c.f.w.s.WebSocketSessionManager - WebSocketå¿ƒè·³å·²æ›´æ–°: service=chatroom, userId=clientId2, timeout=60s
2025-07-25 17:19:22.689 [http-nio-8080-exec-5] DEBUG c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶å·²å‘å¸ƒ: WebSocketEvent(eventType=ON_HEARTBEAT, sessionId=1, userId=clientId2, service=chatroom, clientIp=null, data=å¿ƒè·³å“åº”, eventTime=2025-07-25T17:19:22.689, properties=null, errorMessage=null, throwable=null)
2025-07-25 17:19:22.689 [http-nio-8080-exec-5] DEBUG c.f.websocket.core.WebSocketServer - æ¥æ”¶åˆ°WebSocketå¿ƒè·³å“åº”: service=chatroom, userId=clientId2, sessionId=1
2025-07-25 17:19:23.085 [SpringApplicationShutdownHook] INFO  c.f.w.s.WebSocketSessionManager - WebSocketä¼šè¯å·²ç§»é™¤: service=chatroom, userId=user1, sessionId=3
2025-07-25 17:19:23.088 [SpringApplicationShutdownHook] DEBUG c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶å·²å‘å¸ƒ: WebSocketEvent(eventType=ON_CLOSE, sessionId=3, userId=user1, service=chatroom, clientIp=null, data=CloseReason: code [1001], reason [The web application is stopping], eventTime=2025-07-25T17:19:23.088, properties=null, errorMessage=null, throwable=null)
2025-07-25 17:19:23.088 [SpringApplicationShutdownHook] INFO  c.f.websocket.core.WebSocketServer - WebSocketè¿æ¥å…³é—­: service=chatroom, userId=user1, sessionId=3, code=GOING_AWAY, reason=The web application is stopping
2025-07-25 17:19:23.120 [SpringApplicationShutdownHook] INFO  c.f.w.s.WebSocketSessionManager - WebSocketä¼šè¯å·²ç§»é™¤: service=chatroom, userId=clientId2, sessionId=1
2025-07-25 17:19:23.120 [SpringApplicationShutdownHook] DEBUG c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶å·²å‘å¸ƒ: WebSocketEvent(eventType=ON_CLOSE, sessionId=1, userId=clientId2, service=chatroom, clientIp=null, data=CloseReason: code [1001], reason [The web application is stopping], eventTime=2025-07-25T17:19:23.120, properties=null, errorMessage=null, throwable=null)
2025-07-25 17:19:23.120 [SpringApplicationShutdownHook] INFO  c.f.websocket.core.WebSocketServer - WebSocketè¿æ¥å…³é—­: service=chatroom, userId=clientId2, sessionId=1, code=GOING_AWAY, reason=The web application is stopping
2025-07-25 17:19:23.160 [SpringApplicationShutdownHook] INFO  c.f.w.s.WebSocketSessionManager - WebSocketä¼šè¯å·²ç§»é™¤: service=notification, userId=user2, sessionId=2
2025-07-25 17:19:23.160 [SpringApplicationShutdownHook] DEBUG c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶å·²å‘å¸ƒ: WebSocketEvent(eventType=ON_CLOSE, sessionId=2, userId=user2, service=notification, clientIp=null, data=CloseReason: code [1001], reason [The web application is stopping], eventTime=2025-07-25T17:19:23.160, properties=null, errorMessage=null, throwable=null)
2025-07-25 17:19:23.160 [SpringApplicationShutdownHook] INFO  c.f.websocket.core.WebSocketServer - WebSocketè¿æ¥å…³é—­: service=notification, userId=user2, sessionId=2, code=GOING_AWAY, reason=The web application is stopping
2025-07-25 17:19:23.197 [SpringApplicationShutdownHook] INFO  c.f.w.s.WebSocketSessionManager - WebSocketä¼šè¯å·²ç§»é™¤: service=chatroom, userId=clientId1, sessionId=0
2025-07-25 17:19:23.197 [SpringApplicationShutdownHook] DEBUG c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶å·²å‘å¸ƒ: WebSocketEvent(eventType=ON_CLOSE, sessionId=0, userId=clientId1, service=chatroom, clientIp=null, data=CloseReason: code [1001], reason [The web application is stopping], eventTime=2025-07-25T17:19:23.197, properties=null, errorMessage=null, throwable=null)
2025-07-25 17:19:23.197 [SpringApplicationShutdownHook] INFO  c.f.websocket.core.WebSocketServer - WebSocketè¿æ¥å…³é—­: service=chatroom, userId=clientId1, sessionId=0, code=GOING_AWAY, reason=The web application is stopping
2025-07-25 17:19:23.360 [SpringApplicationShutdownHook] INFO  c.f.w.event.WebSocketEventBus - WebSocketäº‹ä»¶æ€»çº¿çº¿ç¨‹æ± å·²å…³é—­
